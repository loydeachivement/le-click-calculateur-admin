<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accès Sécurisé - Calculateur de Transfert</title>
    <style>
        /* Style général du corps de la page */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f7f6;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        /* Conteneur de la page de connexion */
        #login-container {
            background-color: #ffffff;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        #login-container h2 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        /* Conteneur pour le champ de mot de passe et l'icône */
        .password-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        #login-container input[type="password"],
        #login-container input[type="text"] {
            width: 100%;
            padding: 12px;
            padding-right: 50px; /* Espace pour l'icône */
            margin-bottom: 20px;
            border: 1px solid #bdc3c7;
            border-radius: 5px;
            box-sizing: border-box;
            font-size: 16px;
        }
        
        /* Style pour l'icône de toggle */
        .toggle-icon {
            position: absolute;
            right: 15px;
            cursor: pointer;
            padding: 5px;
            color: #7f8c8d;
            border: none;
            background: none;
        }

        .toggle-icon:hover {
            color: #34495e;
        }

        #login-container button {
            width: 100%;
            padding: 12px;
            background-color: #2ecc71; /* Vert pour indiquer l'accès */
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        #login-container button:hover {
            background-color: #27ae60;
        }
        
        #messageErreur {
            color: #e74c3c;
            margin-top: 15px;
            font-weight: bold;
            display: none; /* Caché par défaut */
        }

        /* Classe pour cacher des éléments */
        .hidden {
            display: none !important;
        }

        /* --- Styles pour le calculateur (inchangés) --- */
        .container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 550px;
        }

        .logo {
            max-width: 130px;
            height: auto;
            margin-bottom: 2px;
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 10px;
        }

        .container > p {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #34495e;
            font-weight: 600;
        }

        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 1px solid #bdc3c7;
            border-radius: 5px;
            box-sizing: border-box;
            font-size: 16px;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
        }

        button {
            width: 100%;
            padding: 12px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #2980b9;
        }

        #resultats {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #ecf0f1;
            display: none;
        }

        #resultats h2 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 20px;
        }

        .result-item {
            display: flex;
            flex-direction: column;
            padding: 15px 0;
            border-bottom: 1px solid #ecf0f1;
        }

        .result-item:last-child {
            border-bottom: none;
        }
        
        .result-item .label {
            font-weight: 500;
            color: #34495e;
            margin-bottom: 10px;
        }

        .result-item .value-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .result-item .value {
            font-weight: bold;
            color: #2c3e50;
            font-size: 1.1em;
        }

        .result-item .currency {
            color: #7f8c8d;
            margin-left: 5px;
            font-size: 0.9em;
        }

        .result-item.final {
            background-color: #eafaf1;
            padding: 20px;
            border-radius: 5px;
            margin-top: 10px;
            border-bottom: none;
        }

        .result-item.final .label {
            font-size: 1.1em;
        }

        .result-item.final .value {
            font-size: 1.4em;
            color: #27ae60;
        }
    </style>
</head>
<body>

    <!-- PAGE DE CONNEXION -->
    <div id="login-container">
        <h2>Accès Sécurisé</h2>
        <p>Veuillez entrer le code d'accès pour continuer.</p>
        <div class="password-wrapper">
            <input type="password" id="codeInput" placeholder="Entrez le code">
            <!-- Icône cliquable pour voir/masquer le code -->
            <span id="togglePasswordBtn" class="toggle-icon" title="Afficher/Masquer le code">
                <!-- Icône œil (visible par défaut) -->
                <svg id="eyeIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: block;"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                <!-- Icône œil barré (caché par défaut) -->
                <svg id="eyeOffIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>
            </span>
        </div>
        <button id="validerBtn">Valider</button>
        <p id="messageErreur">Code incorrect.</p>
    </div>

    <!-- CALCULATEUR (caché par défaut) -->
    <div id="calculateur" class="container hidden">
        <center><img src="logo.png" alt="Logo le click" class="logo"></center>
        <h1>Calculateur de Transfert Ghana - Gabon (Admin)</h1>
        <p>Cet outil calcule les frais de transfert et le montant final à recevoir.</p>
        
        <form id="transferForm">
            <div class="form-group">
                <label for="montant">Montant à envoyer (XAF):</label>
                <input type="number" id="montant" placeholder="Ex: 100000" required>
            </div>

            <div class="form-group">
                <label for="taux">Taux du Ghana Cedis (GHS) pour 10 000 XAF:</label>
                <input type="number" id="taux" step="0.01" placeholder="Ex: 15.50" required>
            </div>

            <button type="submit">Calculer</button>
        </form>

        <div id="resultats">
            <h2>Résultats du Calcul</h2>
            
            <div class="result-item">
                <span class="label">Après application du pourcentage de transfert (10.5%)</span>
                <div class="value-group">
                    <div>
                        <span class="value" id="resultat1Client">0.00</span>
                        <span class="currency">XAF (Montant du client)</span>
                    </div>
                    <div>
                        <span class="value" id="resultat1Frais">0.00</span>
                        <span class="currency">XAF (Frais)</span>
                    </div>
                </div>
            </div>

            <div class="result-item">
                <span class="label">Frais "In and Out" (calculés sur le montant du client et multipliés par 2)</span>
                <div class="value-group">
                    <span class="value" id="resultat2">0.00</span>
                    <span class="currency">XAF</span>
                </div>
            </div>

            <div class="result-item final">
                <span class="label">Montant total à recevoir au Ghana</span>
                <div class="value-group">
                    <span class="value" id="resultatFinal">0.00</span>
                    <span class="currency">GHS</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Attendre que le contenu de la page soit entièrement chargé
        document.addEventListener('DOMContentLoaded', () => {

            // --- LOGIQUE DE TOGGLE POUR LE MOT DE PASSE ---
            const toggleBtn = document.getElementById('togglePasswordBtn');
            const codeInput = document.getElementById('codeInput');
            const eyeIcon = document.getElementById('eyeIcon');
            const eyeOffIcon = document.getElementById('eyeOffIcon');

            toggleBtn.addEventListener('click', () => {
                // Obtenir le type actuel de l'input
                const type = codeInput.getAttribute('type') === 'password' ? 'text' : 'password';
                codeInput.setAttribute('type', type);

                // Changer l'icône en fonction du type
                if (type === 'password') {
                    eyeIcon.style.display = 'block';
                    eyeOffIcon.style.display = 'none';
                } else {
                    eyeIcon.style.display = 'none';
                    eyeOffIcon.style.display = 'block';
                }
            });


            // --- LOGIQUE DE CONNEXION ---
            const loginContainer = document.getElementById('login-container');
            const calculateurContainer = document.getElementById('calculateur');
            const validerBtn = document.getElementById('validerBtn');
            const messageErreur = document.getElementById('messageErreur');

            // DÉFINIR VOTRE CODE D'ACCÈS ICI
            const codeCorrect = "leclickadmin$"; 

            validerBtn.addEventListener('click', () => {
                const codeEntre = codeInput.value;

                if (codeEntre === codeCorrect) {
                    loginContainer.style.display = 'none';
                    calculateurContainer.classList.remove('hidden');
                } else {
                    messageErreur.style.display = 'block';
                    codeInput.value = '';
                }
            });

            // Permettre la validation avec la touche "Entrée"
            codeInput.addEventListener('keyup', (event) => {
                if (event.key === 'Enter') {
                    validerBtn.click();
                }
            });


            // --- LOGIQUE DU CALCULATEUR (inchangée) ---
            const form = document.getElementById('transferForm');
            const montantInput = document.getElementById('montant');
            const tauxInput = document.getElementById('taux');
            const resultatsDiv = document.getElementById('resultats');
            
            const resultat1ClientSpan = document.getElementById('resultat1Client');
            const resultat1FraisSpan = document.getElementById('resultat1Frais');
            const resultat2Span = document.getElementById('resultat2');
            const resultatFinalSpan = document.getElementById('resultatFinal');

            form.addEventListener('submit', (event) => {
                event.preventDefault();

                const montantInitial = parseFloat(montantInput.value);
                const tauxPour10000 = parseFloat(tauxInput.value);

                if (isNaN(montantInitial) || isNaN(tauxPour10000) || montantInitial <= 0 || tauxPour10000 <= 0) {
                    alert('Veuillez entrer des valeurs valides et positives.');
                    return;
                }

                const pourcentagePrincipal = 0.105;
                const fraisPrincipal = montantInitial * pourcentagePrincipal;
                const montantDuClient = montantInitial - fraisPrincipal;
                const fraisInAndOutBase = montantDuClient * 0.01;
                const fraisInAndOutTotal = fraisInAndOutBase * 2;
                const tauxPar1 = tauxPour10000 / 10000;
                const montantReceptionGHS = montantDuClient * tauxPar1;

                resultat1ClientSpan.textContent = montantDuClient.toFixed(2);
                resultat1FraisSpan.textContent = fraisPrincipal.toFixed(2);
                resultat2Span.textContent = fraisInAndOutTotal.toFixed(2);
                resultatFinalSpan.textContent = montantReceptionGHS.toFixed(2);

                resultatsDiv.style.display = 'block';
                resultatsDiv.scrollIntoView({ behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>
